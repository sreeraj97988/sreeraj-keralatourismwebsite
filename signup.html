<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>Signup - KERALA TOURISM</title>
    <link rel="stylesheet" href="css/signup.css">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
    <script>
        function registration() {
            debugger;
            var username = document.getElementById("t1").value;
            var email = document.getElementById("t2").value;
            var pwd = document.getElementById("t3").value;
            var cpwd = document.getElementById("t4").value;
            var phone = document.getElementById("t5").value;
            //username expression code

            var letters = /^[A-Za-z]+$/;
            //email id expression code

            var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

            //pwd expression code
            var phonepattern = new RegExp('^\\(?([0-9]{3})\\)?[-.\\s]?([0-9]{3})[-.\\s]?([0-9]{4})$'); // Regex for formats xxx-xxx-xxxx and xxx.xxx.xxxx and xxx xxx xxxx


            var pwd_expression = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/;
            if (username == '') {
                alert('Please enter your valid username');
            }
            else if (!letters.test(username)) {
                alert('Username field required only alphabet characters');
            }
            else if (email == '') {
                alert('Please enter your user email id');
            }
            else if (!filter.test(email)) {
                alert('Invalid email');
            }
            else if (pwd == '') {
                alert('Please Enter Password');
            }
            else if (cpwd == '') {
                alert('Enter Confirm Password');
            }
            // // else if (!pwd_expression.test(pwd)) {
            // //     alert('Upper case, Lower case, Special character and Numeric letter are required in Password filed');
            // }
            else if (pwd != cpwd) {
                alert('Password not Matched');
            }
            else if (document.getElementById("t3").value.length < 8) {
                alert('Password minimum length is 8');
            }
            else if (document.getElementById("t3").value.length > 12) {
                alert('Password max length is 12');
            }
            else if (phone == '' || !phonepattern.test(phone)) {
                alert('Enter a valid Phone no');
            }
            //else if (document.getElementById("t5").value.length > 10) {
            //    alert('Phone no exceeding the length of 10 digits');
            //}
            else {
                alert('Account Created Successfully & You are Redirecting to Kerala Tourism HomePage');
                // Redirecting to other page or webste code.
                window.location = "signin.html";
            }

        }
        function clearFunc() {
            document.getElementById("t1").value = "";
            document.getElementById("t2").value = "";
            document.getElementById("t3").value = "";
            document.getElementById("t4").value = "";
            document.getElementById("t5").value = "";
        }
    </script>
</head>
<body background="img/signuo.jpg">
    <div class="container" style="width:800px">
        <form action="#">
            <div class="brand_logo_container" align="center">
                <img src="img/keralalogo.jpg" class="brand_logo" alt="Logo" style="width:150px;height:150px;border-radius:50%">
            </div>
            <br/><br /><br />
            <div class="field">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                </div>
                <input type="text" placeholder="Enter Username" id="t1" class="form-control input_user" />
            </div>
            <br />
            <div class="field">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                </div>
                <input type="text" placeholder="Enter Email ID" id="t2" class="form-control input_user" />
            </div>
            <br />
            <div class="field">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-key"></i></span>
                </div>
                <input onkeyup="trigger()" type="password" id="t3" class="pwd" placeholder="Type password">
                <span class="showBtn">SHOW</span>
            </div>
            <div class="indicator">
                <span class="weak"></span>
                <span class="medium"></span>
                <span class="strong"></span>
            </div>
            <div class="text"></div>
            <br />
            <div class="field">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-key"></i></span>
                </div>
                <input type="password" placeholder="Confirm Password" id="t4" class="form-control input_user" />
            </div>
            <br />
            <div class="field">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                </div>
                <input type="text" placeholder="XXX-XXX-XXXX" id="t5" class="form-control input_user" />
            </div>
            <br />
            <div align="center">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="customControlInline">
                    <label class="custom-control-label" for="customControlInline">Agree Terms and Conditions?</label>
                </div>
            </div>
            <br />
            <div align="center">
                <button type="button" name="button" class="btn btn-primary" onclick="registration()">Signup</button> &nbsp;&nbsp;
                <button type="button" name="button" class="btn btn-danger" onclick="clearFunc()">Clear</button>
            </div>
            <br />
            <div align="center">
                Already have an account? <a href="signin.html" class="ml-2">Sign In</a>
            </div>
        </form>
    </div>

    <script>
        const indicator = document.querySelector(".indicator");
        const input = document.querySelector(".pwd");
        const weak = document.querySelector(".weak");
        const medium = document.querySelector(".medium");
        const strong = document.querySelector(".strong");
        const text = document.querySelector(".text");
        const showBtn = document.querySelector(".showBtn");
        let regExpWeak = /[a-z]/;
        let regExpMedium = /\d+/;
        let regExpStrong = /.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/;
        function trigger() {
            if (input.value != "") {
                indicator.style.display = "block";
                indicator.style.display = "flex";
                if (input.value.length <= 3 && (input.value.match(regExpWeak) || input.value.match(regExpMedium) || input.value.match(regExpStrong))) no = 1;
                if (input.value.length >= 6 && ((input.value.match(regExpWeak) && input.value.match(regExpMedium)) || (input.value.match(regExpMedium) && input.value.match(regExpStrong)) || (input.value.match(regExpWeak) && input.value.match(regExpStrong)))) no = 2;
                if (input.value.length >= 6 && input.value.match(regExpWeak) && input.value.match(regExpMedium) && input.value.match(regExpStrong)) no = 3;
                if (no == 1) {
                    weak.classList.add("active");
                    text.style.display = "block";
                    text.textContent = "Your password is too week";
                    text.classList.add("weak");
                }
                if (no == 2) {
                    medium.classList.add("active");
                    text.textContent = "Your password is medium";
                    text.classList.add("medium");
                } else {
                    medium.classList.remove("active");
                    text.classList.remove("medium");
                }
                if (no == 3) {
                    weak.classList.add("active");
                    medium.classList.add("active");
                    strong.classList.add("active");
                    text.textContent = "Your password is strong";
                    text.classList.add("strong");
                } else {
                    strong.classList.remove("active");
                    text.classList.remove("strong");
                }
                showBtn.style.display = "block";
                showBtn.onclick = function () {
                    if (input.type == "password") {
                        input.type = "text";
                        showBtn.textContent = "HIDE";
                        showBtn.style.color = "#23ad5c";
                    } else {
                        input.type = "password";
                        showBtn.textContent = "SHOW";
                        showBtn.style.color = "#000";
                    }
                }
            } else {
                indicator.style.display = "none";
                text.style.display = "none";
                showBtn.style.display = "none";
            }
        }
    </script>

</body>
</html>
